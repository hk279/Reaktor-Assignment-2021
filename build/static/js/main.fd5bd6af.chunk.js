(this.webpackJsonpwarehouse=this.webpackJsonpwarehouse||[]).push([[0],{160:function(e,t,n){},161:function(e,t,n){},295:function(e,t,n){"use strict";n.r(t);var c=n(13),a=n(0),r=n.n(a),o=n(19),i=n.n(o),l=(n(160),n(51)),s=(n(161),n(101)),d=n.n(s),u=(n(179),n(298)),j=n(299),b=n(58);function f(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var O=u.a.Header,h=u.a.Content,x=j.a.Column,m=function(){var e=Object(a.useState)("gloves"),t=Object(l.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)([]),i=Object(l.a)(o,2),s=i[0],m=i[1],g=Object(a.useState)([]),p=Object(l.a)(g,2),w=p[0],C=p[1],v=Object(a.useState)(!0),y=Object(l.a)(v,2),R=y[0],S=y[1],F=Object(a.useState)(!1),I=Object(l.a)(F,2),T=I[0],k=I[1];Object(a.useEffect)((function(){N(n)}),[n]),Object(a.useEffect)((function(){E()}),[T]);var N=function(e){d.a.get("/api/products/"+e).then((function(e){return e.data})).then((function(e){return m(e)})).catch((function(e){return console.log(e)}))},E=function(){d.a.get("/api/availability").then((function(e){return"Sneaky error"===e.data?(console.log("Sneaky error detected. Refetching data."),void k(!T)):"Random error"===e.data?(console.log("Random error detected. Refetching data."),void k(!T)):(console.log("Availability data successfully retrieved"),C(e.data.flat()),void S(!1))})).catch((function(e){console.log(e)}))},L=function(e){var t,n;return w.forEach((function(c){if(e===c.id.toLowerCase()){var a=c.DATAPAYLOAD;t=a.slice(50,a.length-31),n="INSTOCK"===t?"In stock":"LESSTHAN10"===t?"Less than 10":"OUTOFSTOCK"===t?"Out of stock":t}})),n},A=function(){var e=Object(a.useState)(f()),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){c(f())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}(),P=A.height,D=A.width,K={},z={},B=Object(c.jsx)(x,{title:"Color",dataIndex:"color",render:function(e){return Object(c.jsx)(c.Fragment,{children:e.map((function(e,t){return Object(c.jsx)("p",{className:"color",children:e},t)}))})}},"color"),H=Object(c.jsx)(x,{title:"Price",dataIndex:"price"},"price");return D<700&&(B=null,H=null,K={expandedRowRender:function(e){return Object(c.jsxs)("div",{className:"expandedRow",children:[Object(c.jsx)("p",{className:"expandedRowCell",children:Object(c.jsx)("b",{children:"Color:"})}),Object(c.jsx)("p",{className:"expandedRowCell",children:e.color}),Object(c.jsx)("p",{className:"expandedRowCell",children:Object(c.jsx)("b",{children:"Price:"})}),Object(c.jsx)("p",{className:"expandedRowCell",children:e.price})]})}}),P<500?z={y:200,scrollToFirstRowOnChange:!0}:P<600?z={y:300,scrollToFirstRowOnChange:!0}:P<700?z={y:350,scrollToFirstRowOnChange:!0}:P<800?z={y:400,scrollToFirstRowOnChange:!0}:P<900?z={y:450,scrollToFirstRowOnChange:!0}:P<1e3&&(z={y:500,scrollToFirstRowOnChange:!0}),Object(c.jsxs)(u.a,{children:[Object(c.jsx)(O,{children:Object(c.jsxs)(b.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["1"],children:[Object(c.jsx)(b.a.Item,{onClick:function(){return r("gloves")},children:"Gloves"},"1"),Object(c.jsx)(b.a.Item,{onClick:function(){return r("facemasks")},children:"Facemasks"},"2"),Object(c.jsx)(b.a.Item,{onClick:function(){return r("beanies")},children:"Beanies"},"3")]})}),Object(c.jsx)(h,{className:"content",children:Object(c.jsxs)(j.a,{dataSource:s,rowKey:"id",pagination:{position:["bottomCenter"]},loading:R,expandable:K,scroll:z,children:[Object(c.jsx)(x,{title:"ID",dataIndex:"id"},"id"),Object(c.jsx)(x,{title:"Name",dataIndex:"name",sorter:function(e,t){return e.name.localeCompare(t.name)},defaultFilteredValue:!0,defaultSortOrder:"ascend"},"name"),Object(c.jsx)(x,{title:"Manufacturer",dataIndex:"manufacturer",sorter:function(e,t){return e.manufacturer.localeCompare(t.manufacturer)}},"manufacturer"),Object(c.jsx)(x,{title:"Availability",render:function(e){return Object(c.jsx)("p",{className:"availability",children:L(e.id)})}},"availability"),B,H]})})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,300)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(m,{})}),document.getElementById("root")),g()}},[[295,1,2]]]);
//# sourceMappingURL=main.fd5bd6af.chunk.js.map